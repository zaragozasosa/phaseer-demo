"use strict";var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Config_1=require("./Config"),Boot_1=require("./states/Boot"),Preloader_1=require("./states/Preloader"),MainMenu_1=require("./states/MainMenu"),Game=function(P){function e(){var e,t,n,i=this,o=Config_1.Singleton.getInstance().config,r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),a=0,s=0,d=0,l=0,c=1.5,u=window.devicePixelRatio<=3?window.devicePixelRatio:3,_=window.innerWidth*u;_=!r&&1080<_?1080:_;var g=window.innerHeight*u,f=(g=r?940<g?940:g:g/u-20)/_,h=window.innerWidth/320;return i=P.call(this,_,g,Phaser.CANVAS,"content",null,!0)||this,c<f?(s=(g-(l=(d=_)*c))/2,e=u/3*h):f<c&&(a=(_-(d=(l=g)/c))/2,e=d/960),t=new Config_1.SafeZone(d,l,a,s),(n=new Config_1.TileSettings).tileSize=240,n.frameLineWidth=4,n.lineColor=13209,n.gridPaddingX=0*e,n.gridPaddingY=200*e,n.tileScale=240/180,n.arraySize=3,n.initialArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n.minimumValue=1,n.tiles=["nacho","chili","mira","lord_fancy","choco","rox","kinjo","shy_senpai","magil","jessy","agent_smith","lily","r1r1","astaroth","bren","joji"],n.mainTile=n.tiles[i.rnd.integerInRange(0,15)],o.scaleFactor=e,o.safeZone=t,o.tileSettings=n,Config_1.Singleton.getInstance().config=o,(Config_1.Singleton.getInstance().game=i).state.add("Boot",Boot_1.default,!1),i.state.add("Preloader",Preloader_1.default,!1),i.state.add("MainMenu",MainMenu_1.default,!1),i.state.start("Boot"),i}return __extends(e,P),e}(Phaser.Game);new(exports.default=Game);